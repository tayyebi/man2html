<!DOCTYPE html>
<html>
<head>
<style type="text/css">
body {background-color: black;}
pre {
	font-weight: normal;
	color: #bbb;
	white-space: -moz-pre-wrap;
	white-space: -o-pre-wrap;
	white-space: -pre-wrap;
	white-space: pre-wrap;
	word-wrap: break-word;
	overflow-wrap: break-word;
}
b {font-weight: normal}
b.BOLD {color: #fff}
b.ITA {font-style: italic}
b.UND {text-decoration: underline}
b.STR {text-decoration: line-through}
b.UNDSTR {text-decoration: underline line-through}
b.BLK {color: #000000}
b.RED {color: #aa0000}
b.GRN {color: #00aa00}
b.YEL {color: #aa5500}
b.BLU {color: #0000aa}
b.MAG {color: #aa00aa}
b.CYN {color: #00aaaa}
b.WHI {color: #aaaaaa}
b.HIK {color: #555555}
b.HIR {color: #ff5555}
b.HIG {color: #55ff55}
b.HIY {color: #ffff55}
b.HIB {color: #5555ff}
b.HIM {color: #ff55ff}
b.HIC {color: #55ffff}
b.HIW {color: #ffffff}
b.BBLK {background-color: #000000}
b.BRED {background-color: #aa0000}
b.BGRN {background-color: #00aa00}
b.BYEL {background-color: #aa5500}
b.BBLU {background-color: #0000aa}
b.BMAG {background-color: #aa00aa}
b.BCYN {background-color: #00aaaa}
b.BWHI {background-color: #aaaaaa}
</style>
</head>
<body>
<pre>E4DEFRAG(8)                                           System Manager's Manual                                           E4DEFRAG(8)

NAME
       e4defrag - online defragmenter for ext4 file system

SYNOPSIS
       e4defrag [ -c ] [ -v ] target ...

DESCRIPTION
       e4defrag  reduces fragmentation of extent based file. The file targeted by e4defrag is created on ext4 file system made with
       "-O extent" option (see mke2fs(8)).  The targeted file gets more contiguous blocks and improves the file access speed.

       target is a regular file, a directory, or a device that is mounted as ext4 file system.  If target is a directory,  e4defrag
       reduces  fragmentation of all files in it. If target is a device, e4defrag gets the mount point of it and reduces fragmenta‐
       tion of all files in this mount point.

OPTIONS
       -c     Get a current fragmentation count and an ideal fragmentation count, and calculate fragmentation score based on  them.
              By  seeing  this score, we can determine whether we should execute e4defrag to target.  When used with -v option, the
              current fragmentation count and the ideal fragmentation count are printed for each file.

              Also this option outputs the average data size in one extent. If you see it, you'll find the file has  ideal  extents
              or not. Note that the maximum extent size is 131072KB in ext4 file system (if block size is 4KB).

              If this option is specified, target is never defragmented.

       -v     Print error messages and the fragmentation count before and after defrag for each file.

NOTES
       e4defrag does not support swap file, files in lost+found directory, and files allocated in indirect blocks. When target is a
       device or a mount point, e4defrag doesn't defragment files in mount point of other device.

       It is safe to run e4defrag on a file while it is actively in use by another application.  Since the contents of file  blocks
       are  copied using the page cache, this can result in a performance slowdown to both e4defrag and the application due to con‐
       tention over the system's memory and disk bandwidth.

       If the file system's free space is fragmented, or if there is insufficient free space available, e4defrag may not be able to
       improve the file's fragmentation.

       Non-privileged  users can execute e4defrag to their own file, but the score is not printed if -c option is specified. There‐
       fore, it is desirable to be executed by root user.

AUTHOR
       Written by Akira Fujita &lt;a-fujita@rs.jp.nec.com&gt; and Takashi Sato &lt;t-sato@yk.jp.nec.com&gt;.

SEE ALSO
       mke2fs(8), mount(8).

e4defrag version 2.0                                          May 2009                                                  E4DEFRAG(8)
</pre>
</body>
</html>
