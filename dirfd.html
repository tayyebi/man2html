<!DOCTYPE html>
<html>
<head>
<style type="text/css">
body {background-color: black;}
pre {
	font-weight: normal;
	color: #bbb;
	white-space: -moz-pre-wrap;
	white-space: -o-pre-wrap;
	white-space: -pre-wrap;
	white-space: pre-wrap;
	word-wrap: break-word;
	overflow-wrap: break-word;
}
b {font-weight: normal}
b.BOLD {color: #fff}
b.ITA {font-style: italic}
b.UND {text-decoration: underline}
b.STR {text-decoration: line-through}
b.UNDSTR {text-decoration: underline line-through}
b.BLK {color: #000000}
b.RED {color: #aa0000}
b.GRN {color: #00aa00}
b.YEL {color: #aa5500}
b.BLU {color: #0000aa}
b.MAG {color: #aa00aa}
b.CYN {color: #00aaaa}
b.WHI {color: #aaaaaa}
b.HIK {color: #555555}
b.HIR {color: #ff5555}
b.HIG {color: #55ff55}
b.HIY {color: #ffff55}
b.HIB {color: #5555ff}
b.HIM {color: #ff55ff}
b.HIC {color: #55ffff}
b.HIW {color: #ffffff}
b.BBLK {background-color: #000000}
b.BRED {background-color: #aa0000}
b.BGRN {background-color: #00aa00}
b.BYEL {background-color: #aa5500}
b.BBLU {background-color: #0000aa}
b.BMAG {background-color: #aa00aa}
b.BCYN {background-color: #00aaaa}
b.BWHI {background-color: #aaaaaa}
</style>
</head>
<body>
<pre>dirfd(3)                                              Library Functions Manual                                             dirfd(3)

NAME
       dirfd - get directory stream file descriptor

LIBRARY
       Standard C library (libc, -lc)

SYNOPSIS
       #include &lt;sys/types.h&gt;
       #include &lt;dirent.h&gt;

       int dirfd(DIR *dirp);

   Feature Test Macro Requirements for glibc (see feature_test_macros(7)):

       dirfd():
           /* Since glibc 2.10: */ _POSIX_C_SOURCE &gt;= 200809L
               || /* glibc &lt;= 2.19: */ _BSD_SOURCE || _SVID_SOURCE

DESCRIPTION
       The function dirfd() returns the file descriptor associated with the directory stream dirp.

       This file descriptor is the one used internally by the directory stream.  As a result, it is useful only for functions which
       do not depend on or alter the file position, such  as  fstat(2)  and  fchdir(2).   It  will  be  automatically  closed  when
       closedir(3) is called.

RETURN VALUE
       On  success, dirfd() returns a file descriptor (a nonnegative integer).  On error, -1 is returned, and errno is set to indi‐
       cate the error.

ERRORS
       POSIX.1-2008 specifies two errors, neither of which is returned by the current implementation.

       EINVAL dirp does not refer to a valid directory stream.

       ENOTSUP
              The implementation does not support the association of a file descriptor with a directory.

ATTRIBUTES
       For an explanation of the terms used in this section, see attributes(7).

       ┌─────────────────────────────────────────────────────────────────────────────────────────────────┬───────────────┬─────────┐
       │Interface                                                                                        │ Attribute     │ Value   │
       ├─────────────────────────────────────────────────────────────────────────────────────────────────┼───────────────┼─────────┤
       │dirfd()                                                                                          │ Thread safety │ MT-Safe │
       └─────────────────────────────────────────────────────────────────────────────────────────────────┴───────────────┴─────────┘

STANDARDS
       POSIX.1-2008.  This function was a BSD extension, present in 4.3BSD-Reno, not in 4.2BSD.

SEE ALSO
       open(2), openat(2), closedir(3), opendir(3), readdir(3), rewinddir(3), scandir(3), seekdir(3), telldir(3)

Linux man-pages 6.03                                         2023-02-05                                                    dirfd(3)
</pre>
</body>
</html>
