<!DOCTYPE html>
<html>
<head>
<style type="text/css">
body {background-color: black;}
pre {
	font-weight: normal;
	color: #bbb;
	white-space: -moz-pre-wrap;
	white-space: -o-pre-wrap;
	white-space: -pre-wrap;
	white-space: pre-wrap;
	word-wrap: break-word;
	overflow-wrap: break-word;
}
b {font-weight: normal}
b.BOLD {color: #fff}
b.ITA {font-style: italic}
b.UND {text-decoration: underline}
b.STR {text-decoration: line-through}
b.UNDSTR {text-decoration: underline line-through}
b.BLK {color: #000000}
b.RED {color: #aa0000}
b.GRN {color: #00aa00}
b.YEL {color: #aa5500}
b.BLU {color: #0000aa}
b.MAG {color: #aa00aa}
b.CYN {color: #00aaaa}
b.WHI {color: #aaaaaa}
b.HIK {color: #555555}
b.HIR {color: #ff5555}
b.HIG {color: #55ff55}
b.HIY {color: #ffff55}
b.HIB {color: #5555ff}
b.HIM {color: #ff55ff}
b.HIC {color: #55ffff}
b.HIW {color: #ffffff}
b.BBLK {background-color: #000000}
b.BRED {background-color: #aa0000}
b.BGRN {background-color: #00aa00}
b.BYEL {background-color: #aa5500}
b.BBLU {background-color: #0000aa}
b.BMAG {background-color: #aa00aa}
b.BCYN {background-color: #00aaaa}
b.BWHI {background-color: #aaaaaa}
</style>
</head>
<body>
<pre>daemon(3)                                             Library Functions Manual                                            daemon(3)

NAME
       daemon - run in the background

LIBRARY
       Standard C library (libc, -lc)

SYNOPSIS
       #include &lt;unistd.h&gt;

       int daemon(int nochdir, int noclose);

   Feature Test Macro Requirements for glibc (see feature_test_macros(7)):

       daemon():
           Since glibc 2.21:
               _DEFAULT_SOURCE
           In glibc 2.19 and 2.20:
               _DEFAULT_SOURCE || (_XOPEN_SOURCE &amp;&amp; _XOPEN_SOURCE &lt; 500)
           Up to and including glibc 2.19:
               _BSD_SOURCE || (_XOPEN_SOURCE &amp;&amp; _XOPEN_SOURCE &lt; 500)

DESCRIPTION
       The  daemon()  function is for programs wishing to detach themselves from the controlling terminal and run in the background
       as system daemons.

       If nochdir is zero, daemon() changes the process's current working directory to the root  directory  ("/");  otherwise,  the
       current working directory is left unchanged.

       If  noclose  is  zero,  daemon()  redirects  standard input, standard output, and standard error to /dev/null; otherwise, no
       changes are made to these file descriptors.

RETURN VALUE
       (This function forks, and if the fork(2) succeeds, the parent calls _exit(2), so that further errors are seen by  the  child
       only.)  On success daemon() returns zero.  If an error occurs, daemon() returns -1 and sets errno to any of the errors spec‐
       ified for the fork(2) and setsid(2).

ATTRIBUTES
       For an explanation of the terms used in this section, see attributes(7).

       ┌─────────────────────────────────────────────────────────────────────────────────────────────────┬───────────────┬─────────┐
       │Interface                                                                                        │ Attribute     │ Value   │
       ├─────────────────────────────────────────────────────────────────────────────────────────────────┼───────────────┼─────────┤
       │daemon()                                                                                         │ Thread safety │ MT-Safe │
       └─────────────────────────────────────────────────────────────────────────────────────────────────┴───────────────┴─────────┘

STANDARDS
       Not in POSIX.1.  A similar function appears on the BSDs.  The daemon() function first appeared in 4.4BSD.

NOTES
       The glibc implementation can also return -1 when /dev/null exists but is not a character device with the expected major  and
       minor numbers.  In this case, errno need not be set.

BUGS
       The  GNU  C library implementation of this function was taken from BSD, and does not employ the double-fork technique (i.e.,
       fork(2), setsid(2), fork(2)) that is necessary to ensure that the resulting daemon process is not  a  session  leader.   In‐
       stead,  the  resulting daemon is a session leader.  On systems that follow System V semantics (e.g., Linux), this means that
       if the daemon opens a terminal that is not already a controlling terminal for another session, then that terminal will inad‐
       vertently become the controlling terminal for the daemon.

SEE ALSO
       fork(2), setsid(2), daemon(7), logrotate(8)

Linux man-pages 6.03                                         2022-12-15                                                   daemon(3)
</pre>
</body>
</html>
