<!DOCTYPE html>
<html>
<head>
<style type="text/css">
body {background-color: black;}
pre {
	font-weight: normal;
	color: #bbb;
	white-space: -moz-pre-wrap;
	white-space: -o-pre-wrap;
	white-space: -pre-wrap;
	white-space: pre-wrap;
	word-wrap: break-word;
	overflow-wrap: break-word;
}
b {font-weight: normal}
b.BOLD {color: #fff}
b.ITA {font-style: italic}
b.UND {text-decoration: underline}
b.STR {text-decoration: line-through}
b.UNDSTR {text-decoration: underline line-through}
b.BLK {color: #000000}
b.RED {color: #aa0000}
b.GRN {color: #00aa00}
b.YEL {color: #aa5500}
b.BLU {color: #0000aa}
b.MAG {color: #aa00aa}
b.CYN {color: #00aaaa}
b.WHI {color: #aaaaaa}
b.HIK {color: #555555}
b.HIR {color: #ff5555}
b.HIG {color: #55ff55}
b.HIY {color: #ffff55}
b.HIB {color: #5555ff}
b.HIM {color: #ff55ff}
b.HIC {color: #55ffff}
b.HIW {color: #ffffff}
b.BBLK {background-color: #000000}
b.BRED {background-color: #aa0000}
b.BGRN {background-color: #00aa00}
b.BYEL {background-color: #aa5500}
b.BBLU {background-color: #0000aa}
b.BMAG {background-color: #aa00aa}
b.BCYN {background-color: #00aaaa}
b.BWHI {background-color: #aaaaaa}
</style>
</head>
<body>
<pre>dotnet-watch(1)                                          .NET Documentation                                         dotnet-watch(1)

dotnet watch
       This article applies to: ‚úîÔ∏è .NET Core 3.1 SDK and later versions

NAME
       dotnet-watch - Restarts or hot reloads the specified application when changes in the source code are detected.

SYNOPSIS
              dotnet watch [--list]
                [--no-hot-reload] [--non-interactive]
                [--project &lt;PROJECT&gt;]
                [-q|--quiet] [-v|--verbose]
                [--version]
                [--] &lt;forwarded arguments&gt;

              dotnet watch -?|-h|--help

DESCRIPTION
       The  dotnet  watch command is a file watcher.  When it detects a change that is supported for hot reload, it hot reloads the
       specified application.  When it detects an unsupported change, it restarts the application.  This process enables fast iter‚Äê
       ative development from the command line.

       While running dotnet watch, you can force the app to rebuild and restart by pressing Ctrl+R in the command shell.  This fea‚Äê
       ture is available only while the app is running.  For example, if you run dotnet watch on a console app that ends before you
       press  Ctrl+R,  pressing  Ctrl+R has no effect.  However, in that case dotnet watch is still watching files and will restart
       the app if a file is updated.

   Response compression
       If dotnet watch runs for an app that uses response compression, the tool can‚Äôt inject the browser refresh script.  The  .NET
       7 and later version of the tool displays a warning message like the following:

              warn: Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware[4]

              Unable  to  configure  browser refresh script injection on the response.  This may have been caused by the response‚Äôs
              Content-Encoding: `br'.  Consider disabling response compression.

       As an alternative to disabling response compression, manually add the browser refresh  JavaScript  reference  to  the  app‚Äôs
       pages:

              @if (Environment.GetEnvironmentVariable("__ASPNETCORE_BROWSER_TOOLS") is not null)
              {
                  &lt;script src="/_framework/aspnetcore-browser-refresh.js"&gt;&lt;/script&gt;
              }

ARGUMENTS
       ‚Ä¢ forwarded arguments

         Arguments to pass to the child dotnet process.  For example: run with options for dotnet run or test with options for dot‚Äê
         net test.  If the child command isn‚Äôt specified, the default is run for dotnet run.

OPTIONS
       ‚Ä¢ --list

         Lists all discovered files without starting the watcher.

       ‚Ä¢ --no-hot-reload

         Suppress hot reload for supported apps.

       ‚Ä¢ --non-interactive

         Runs dotnet watch in non-interactive mode.  Use this option to prevent console  input  from  being  requested.   When  hot
         reload is enabled and a rude edit is detected, dotnet watch restarts the app.  Available since .NET 7 SDK.

       ‚Ä¢ --project &lt;PATH&gt;

         Specifies  the path of the project file to run (folder only or including the project file name).  If not specified, it de‚Äê
         faults to the current directory.

       ‚Ä¢ -q|--quiet

         Suppresses all output that is generated by the dotnet watch command except warnings and errors.  The option is not  passed
         on to child commands.  For example, output from dotnet restore and dotnet run continues to be output.

       ‚Ä¢ -v|--verbose

         Shows verbose output for debugging.

       ‚Ä¢ --version

         Shows the version of dotnet watch.

       ‚Ä¢ --

         The  double-dash  option (`‚Äì') can be used to delimit dotnet watch options from arguments that will be passed to the child
         process.  Its use is optional.  When the double-dash option isn‚Äôt used, dotnet watch considers the first unrecognized  ar‚Äê
         gument to be the beginning of arguments that it should pass into the child dotnet process.

ENVIRONMENT VARIABLES
       dotnet watch uses the following environment variables:

       ‚Ä¢ DOTNET_HOTRELOAD_NAMEDPIPE_NAME

         This value is configured by dotnet watch when the app is to be launched, and it specifies the named pipe.

       ‚Ä¢ DOTNET_USE_POLLING_FILE_WATCHER

         When  set to 1 or true, dotnet watch uses a polling file watcher instead of &lt;xref:System.IO.FileSystemWatcher?displayProp‚Äê
         erty=nameWithType&gt;.  Polling is required for some file systems, such as network shares, Docker mounted volumes, and  other
         virtual    file    systems.     The   &lt;xref:Microsoft.Extensions.FileProviders.PhysicalFileProvider&gt;   class   uses   DOT‚Äê
         NET_USE_POLLING_FILE_WATCHER    to    determine     whether     the     &lt;xref:Microsoft.Extensions.FileProviders.Physical‚Äê
         FileProvider.Watch%2A?displayProperty=nameWithType&gt; method will rely on the &lt;xref:Microsoft.Extensions.FileProviders.Phys‚Äê
         ical.PollingFileChangeToken&gt;.

       ‚Ä¢ DOTNET_WATCH

         dotnet watch sets this variable to 1 on all child processes that it launches.

       ‚Ä¢ DOTNET_WATCH_AUTO_RELOAD_WS_HOSTNAME

         As part of dotnet watch, the browser refresh server mechanism reads this value to determine the  WebSocket  host  environ‚Äê
         ment.   The  value  127.0.0.1  is  replaced by localhost, and the http:// and https:// schemes are replaced with ws:// and
         wss:// respectively.

       ‚Ä¢ DOTNET_WATCH_ITERATION

         dotnet watch sets this variable to 1 and increments by one each time a file is changed and the  command  restarts  or  hot
         reloads the application.

       ‚Ä¢ DOTNET_WATCH_SUPPRESS_BROWSER_REFRESH

         When set to 1 or true, dotnet watch won‚Äôt refresh browsers when it detects file changes.

       ‚Ä¢ DOTNET_WATCH_SUPPRESS_EMOJIS

         With the .NET SDK 6.0.300 and later, dotnet watch emits non-ASCII characters to the console, as shown in the following ex‚Äê
         ample:

                dotnet watch üî• Hot reload enabled. For a list of supported edits, see https://aka.ms/dotnet/hot-reload.
                  üí° Press "Ctrl + R" to restart.
                dotnet watch üîß Building...
                dotnet watch üöÄ Started
                dotnet watch ‚åö Exited
                dotnet watch ‚è≥ Waiting for a file to change before restarting dotnet...

         On certain console hosts, these characters may appear garbled.  To avoid seeing garbled characters, set this variable to 1
         or true.

       ‚Ä¢ DOTNET_WATCH_SUPPRESS_LAUNCH_BROWSER

         When  set  to  1 or true, dotnet watch won‚Äôt launch or refresh browsers for web apps that have launchBrowser configured in
         launchSettings.json.

       ‚Ä¢ DOTNET_WATCH_SUPPRESS_MSBUILD_INCREMENTALISM

         By default, dotnet watch optimizes the build by avoiding certain operations, such as running restore or re-evaluating  the
         set of watched files on every file change.  If this variable is set to 1 or true, these optimizations are disabled.

       ‚Ä¢ DOTNET_WATCH_SUPPRESS_STATIC_FILE_HANDLING

         When set to 1 or true, dotnet watch won‚Äôt do special handling for static content files.  dotnet watch sets MSBuild proper‚Äê
         ty DotNetWatchContentFiles to false.

   Files watched by default
       dotnet watch watches all items in the Watch item group in the project file.  By default, this group includes  all  items  in
       the  Compile  and  EmbeddedResource  groups.  dotnet watch also scans the entire graph of project references and watches all
       files within those projects.

       By default, the Compile and EmbeddedResource groups include all files matching the following glob patterns:

       ‚Ä¢ **/*.cs

       ‚Ä¢ *.csproj

       ‚Ä¢ **/*.resx

       ‚Ä¢ Content files in web apps: wwwroot/**

       By default, .config, and .json files don‚Äôt trigger a dotnet watch restart because the configuration system has its own mech‚Äê
       anisms for handling configuration changes.

       Files can be added to the watch list or removed from the list by editing the project file.  Files can be specified individu‚Äê
       ally or by using glob patterns.

   Watch additional files
       More files can be watched by adding items to the Watch group.  For example, the following markup extends that group  to  in‚Äê
       clude JavaScript files:

              &lt;ItemGroup&gt;
                &lt;Watch Include="**\*.js" Exclude="node_modules\**\*;**\*.js.map;obj\**\*;bin\**\*" /&gt;
              &lt;/ItemGroup&gt;

   Ignore specified files
       dotnet watch will ignore Compile and EmbeddedResource items that have the Watch="false" attribute, as shown in the following
       example:

              &lt;ItemGroup&gt;
                &lt;Compile Update="Generated.cs" Watch="false" /&gt;
                &lt;EmbeddedResource Update="Strings.resx" Watch="false" /&gt;
              &lt;/ItemGroup&gt;

       dotnet watch will ignore project references that have the Watch="false" attribute, as shown in the following example:

              &lt;ItemGroup&gt;
                &lt;ProjectReference Include="..\ClassLibrary1\ClassLibrary1.csproj" Watch="false" /&gt;
              &lt;/ItemGroup&gt;

   Advanced configuration
       dotnet watch performs a design-time build to find items to watch.  When this build is run, dotnet watch  sets  the  property
       DotNetWatchBuild=true.  This property can be used as shown in the following example:

              &lt;ItemGroup Condition="'$(DotNetWatchBuild)'=='true'"&gt;
                &lt;!-- only included in the project when dotnet-watch is running --&gt;
              &lt;/ItemGroup&gt;

   Hot Reload
       Starting  in .NET 6, dotnet watch includes support for hot reload.  Hot reload is a feature that lets you apply changes to a
       running app without having to rebuild and restart it.  The changes may be to code files or static assets, such as stylesheet
       files  and JavaScript files.  This feature streamlines the local development experience, as it gives immediate feedback when
       you modify your app.

       For information about app types and .NET versions that support hot reload, see Supported .NET app frameworks and scenarios.

   Rude edits
       When a file is modified, dotnet watch determines if the app can be hot reloaded.  If it can‚Äôt be hot reloaded, the change is
       called a rude edit and dotnet watch asks if you want to restart the app:

              dotnet watch ‚åö Unable to apply hot reload because of a rude edit.
                ‚ùî Do you want to restart your app - Yes (y) / No (n) / Always (a) / Never (v)?

       ‚Ä¢ Yes: Restarts the app.

       ‚Ä¢ No: Leaves the app running without the changes applied.

       ‚Ä¢ Always: Restarts the app and doesn‚Äôt prompt anymore for rude edits.

       ‚Ä¢ Never: Leaves the app running without the changes applied and doesn‚Äôt prompt anymore for rude edits.

       For  information about what kinds of changes are considered rude edits, see Edit code and continue debugging and Unsupported
       changes to code.

       To disable hot reload when you run dotnet watch, use the --no-hot-reload option, as shown in the following example:

       .NET CLI dotnet watch --no-hot-reload

EXAMPLES
       ‚Ä¢ Run dotnet run for the project in the current directory whenever source code changes:

                dotnet watch

         Or:

                dotnet watch run

       ‚Ä¢ Run dotnet test for the project in the current directory whenever source code changes:

                dotnet watch test

       ‚Ä¢ Run dotnet run --project ./HelloWorld.csproj whenever source code changes:

                dotnet watch run --project  ./HelloWorld.csproj

       ‚Ä¢ Run dotnet run -- arg0 for the project in the current directory whenever source code changes:

                dotnet watch run -- arg0

         Or:

                dotnet watch -- run arg0

SEE ALSO
       ‚Ä¢ Tutorial: Develop ASP.NET Core apps using a file watcher

       ‚Ä¢ Hot reload in Visual Studio

       ‚Ä¢ Hot reload supported apps

       ‚Ä¢ Hot reload supported code changes

       ‚Ä¢ Hot reload test execution

       ‚Ä¢ Hot reload support for ASP.NET Core

                                                             2022-11-10                                             dotnet-watch(1)
</pre>
</body>
</html>
